<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <p:dialog id="IngresarResolucionCreateDlg" widgetVar="IngresarResolucionCreateDialog" modal="true" resizable="false" appendTo="@(body)" header="Ingresar Nueva Resoluci&oacute;n" closeOnEscape="true" height="500">
            <p:ajax event="close"  oncomplete="myrefresh();"></p:ajax>  

            <h:form id="IngresarResolucionCreateForm">

                <h:panelGroup id="display">

                    <p:panel header="Datos de solicitud">

                        <p:panelGrid columns="4">

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Codigo de solicitud:" for="codigoDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="codigoDeSolicitud" value="#{resolucionManagedBean.analisisSelected.solicitudId.solicitudId}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Monto:" for="montoDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="montoDeSolicitud" value="#{resolucionManagedBean.analisisSelected.analisisMonto}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Fecha solicitud:" for="fechaDeSolicitud"/>    
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="fechaDeSolicitud" value="#{resolucionManagedBean.analisisSelected.solicitudId.fechaRegistro}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Plazo:" for="plazoDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="plazoDeSolicitud" value="#{resolucionManagedBean.analisisSelected.analisisPlazo}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Codigo Asociado:" for="codigoAsociadoDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="codigoAsociadoDeSolicitud" value="#{resolucionManagedBean.analisisSelected.solicitudId.solicitudCodigoasociado}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Tasa de interes anual:" for="tasaDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="tasaDeSolicitud" value="#{resolucionManagedBean.analisisSelected.analisisPlazo}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Nombre:" for="nombreAsociadoDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="nombreAsociadoDeSolicitud" value="#{resolucionManagedBean.analisisSelected.solicitudId.nombreCompleto}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Destino:" for="destinoDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="destinoDeSolicitud" value="#{resolucionManagedBean.analisisSelected.solicitudId.solicitudDestino}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Fecha de ingreso:" for="fechaingresoDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="fechaingresoDeSolicitud" value="#{resolucionManagedBean.analisisSelected.solicitudId.fechaRegistro}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Forma de pago:" for="formaDePagoDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="formaDePagoDeSolicitud" value="#{resolucionManagedBean.analisisSelected.solicitudId.fpId.fpNombre}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Saldo en aportciones:" for="saldoaportacionesDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="saldoaportacionesDeSolicitud" value="#{resolucionManagedBean.analisisSelected.solicitudId.solicitudAportacionactivo}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Periodicidad de pago:" for="periodicidadDePagoDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="periodicidadDePagoDeSolicitud" value="#{resolucionManagedBean.analisisSelected.solicitudId.ppId.ppNombre}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Linea de cr&eacute;dito:" for="lineacreditoDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="lineacreditoDeSolicitud" value="#{resolucionManagedBean.analisisSelected.solicitudId.asesoriaId.detallelineacreditoId.lineacreditoId.lineacreditoNombre}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="D&iacute;a de pago:" for="diaDePagoDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="diaDePagoDeSolicitud" value="#{resolucionManagedBean.analisisSelected.solicitudId.solicitudDiapago}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Garantia:" for="garantiaDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="garantiaDeSolicitud" value="garantia de credito"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Capital e intereses:" for="capitalinteresesDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="capitalinteresesDeSolicitud" value="#{resolucionManagedBean.analisisSelected.analisisCuotacapitalmasintereses}"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Promoci&oacute;:" for="promocionDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="promocionDeSolicitud" value="promocion"/>
                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Seguro:" for="seguroDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="seguroDeSolicitud" value="#{resolucionManagedBean.analisisSelected.analisisSegurodeuda}"/>
                            </h:panelGroup>

                            <h:panelGroup>

                            </h:panelGroup>
                            <h:panelGroup>

                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Seguro de daños:" for="segurodañosDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="segurodañosDeSolicitud" value="#{resolucionManagedBean.analisisSelected.analisisSegurodano}"/>
                            </h:panelGroup>

                            <h:panelGroup>

                            </h:panelGroup>
                            <h:panelGroup>

                            </h:panelGroup>

                            <h:panelGroup styleClass="panelGroupAlingRight">
                                <p:outputLabel value="Cuota:" for="cuotaDeSolicitud"/>
                            </h:panelGroup>
                            <h:panelGroup>
                                <h:outputText id="cuotaDeSolicitud" value="#{resolucionManagedBean.analisisSelected.analisisCuotacapitalmasintereses+resolucionManagedBean.analisisSelected.analisisSegurodeuda+resolucionManagedBean.analisisSelected.analisisSegurodano}"/>
                            </h:panelGroup>

                        </p:panelGrid>

                    </p:panel> 

                    <p:spacer height="25" width="100"/>

                    <p:panel header="Emitir resolucion de">
                        <p:selectOneMenu value="#{resolucionManagedBean.tipoResolucionSelected}">  
                            <f:selectItems value="#{agendaComiteCreditosManagedBean.tiporesolucionList}"
                                           var="tipo"   
                                           itemLabel="#{tipo.tiporesolucionNombre}"  
                                           itemValue="#{tipo.tiporesolucionId}" />  
                        </p:selectOneMenu>  
                    </p:panel>

                    <p:spacer height="25" width="100"/>


                    <p:panelGrid columns="1">

                        <h:panelGroup>
                            <p:outputLabel value="Fecha de Resoluci&oacute;n:" for="fecharesolucionDeSolicitud"/>
                            <p:spacer height="10" width="20"/>
                            <h:outputText id="fecharesolucionDeSolicitud" value="#{resolucionManagedBean.resolucionSelected.fechaResolucion}">
                                <f:convertDateTime pattern="dd-MM-yyyy" />
                            </h:outputText>
                        </h:panelGroup>

                        <h:panelGroup>
                            <p:selectBooleanCheckbox value="#{resolucionManagedBean.resolucionSelected.resolucionAplicarorden}"/>
                            <p:spacer height="10" width="20"/>
                            <p:outputLabel value="Previo desembolso aplicar orden de descuento a ACOFINGES de R.L"/>
                        </h:panelGroup>

                        <h:panelGroup>
                            <p:selectBooleanCheckbox value="#{resolucionManagedBean.resolucionSelected.resolucionCubrirrelacion}"/>
                            <p:spacer height="10" width="20"/>
                            <p:outputLabel value="Deducir del prestamo hasta cubrir la relaci&oacute;n de aportaciones."/>
                        </h:panelGroup>

                        <h:panelGroup>
                            <p:selectBooleanCheckbox value="#{resolucionManagedBean.resolucionSelected.resolucionElaborarliquidacion}"/>
                            <p:spacer height="10" width="20"/>
                            <p:outputLabel value="Elaborar liquidacion a favor de acreedores."/>
                        </h:panelGroup>

                        <h:panelGroup>
                            <p:spacer height="10" width="20"/>
                            <p:outputLabel value="A la primera cuota en mora aplicar orden de descuento a:"/>

                            <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                                <h:outputText value="Deudor " />
                                <p:selectBooleanCheckbox value="#{resolucionManagedBean.resolucionSelected.resolucionOrdendescuentodeudor}" />

                                <h:outputText value="Codeudor " />
                                <p:selectBooleanCheckbox value="#{resolucionManagedBean.resolucionSelected.resolucionOrdendescuentocodeudor}"/>
                            </h:panelGrid>

                        </h:panelGroup>

                        <h:panelGroup>
                            <p:outputLabel value="Observaciones:"/>
                            <p:inputTextarea  value="#{resolucionManagedBean.resolucionSelected.resolucionObservaciones}" cols="90" />
                        </h:panelGroup>

                    </p:panelGrid>

                    <br/>
                    <p:commandButton icon="ui-icon-disk" actionListener="#{resolucionManagedBean.saveNew}" value="Guardar" update="display,:IngresarResolucionListForm,:growl" oncomplete="handleSubmit(xhr,status,args,IngresarResolucionCreateDialog);"/>
                    <span>&nbsp;</span>
                    <p:commandButton icon="ui-icon-closethick" value="#{crudbundle.Cancel}" onclick="IngresarResolucionCreateDialog.hide()"/>
                </h:panelGroup>

            </h:form>

        </p:dialog>

    </ui:composition>

</html>
