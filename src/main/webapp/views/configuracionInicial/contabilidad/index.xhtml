<ui:composition template="/WEB-INF/templates/commonLayout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="title">
        <title>Parametrizacion de cuentas</title>
    </ui:define>

    <ui:define name="content">

        <h:form id="ConfigContableForm">  

            <p:growl id="messages" showDetail="true"/>  

            <p:accordionPanel multiple="true">  

                <p:tab title="Cajas">  
                    <p:dataTable var="caja" value="#{configuracionCuentaContableManagedBean.cajasList}" id="cajasList" editable="true" style="width: 80%; margin: auto;" paginator="true" rows="5"  
                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
                                 rowsPerPageTemplate="5,10,15" paginatorPosition="bottom">  

                        <f:facet name="header">  
                            Cajas
                        </f:facet>  

                        <p:ajax event="rowEdit" listener="#{configuracionCuentaContableManagedBean.onEditCaja}" update=":ConfigContableForm:messages" />  
                        <p:ajax event="rowEditCancel" listener="#{configuracionCuentaContableManagedBean.onCancel}" update=":ConfigContableForm:messages" />  

                        <p:column headerText="Nombre" width="60%">  
                            <h:outputText value="#{caja.cajaNombre}" />  
                        </p:column>  

                        <p:column headerText="Cuenta" width="32%">  
                            <p:cellEditor>  
                                <f:facet name="output">  
                                    <h:outputText value="#{caja.ccId2.ccNombrecuenta}" />  
                                </f:facet>  
                                <f:facet name="input">  
                                    <h:selectOneMenu value="#{caja.ccId2}" converter="#{cuentacontableConverter}">  
                                        <f:selectItems value="#{configuracionCuentaContableManagedBean.cuentacontableList}"
                                                       var="cuenta"   
                                                       itemLabel="#{cuenta.ccNombrecuenta}"  
                                                       itemValue="#{cuenta}" />  
                                    </h:selectOneMenu>  
                                </f:facet>  
                            </p:cellEditor>  
                        </p:column>  

                        <p:column width="8%">  
                            <p:rowEditor />  
                        </p:column>  

                    </p:dataTable>  
                </p:tab>  


                <p:tab title="Linea de Credito">  
                    <p:dataTable var="linea" value="#{configuracionCuentaContableManagedBean.lineaCreditoList}" id="lineaCreditoList" editable="true" style="width: 80%; margin: auto;" paginator="true" rows="5"  
                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
                                 rowsPerPageTemplate="5,10,15" paginatorPosition="bottom">  

                        <f:facet name="header">  
                            Lineas de Cr√©dito
                        </f:facet>  

                        <p:ajax event="rowEdit" listener="#{configuracionCuentaContableManagedBean.onEditLinea}" update=":ConfigContableForm:messages" />  
                        <p:ajax event="rowEditCancel" listener="#{configuracionCuentaContableManagedBean.onCancel}" update=":ConfigContableForm:messages" />  


                        <p:column headerText="Nombre" width="60%">  
                            <h:outputText value="#{linea.lineacreditoNombre}" />  
                        </p:column>  

                        <p:column headerText="Cuenta" width="32%">  
                            <p:cellEditor>  
                                <f:facet name="output">  
                                    <h:outputText value="#{linea.ccId2.ccNombrecuenta}" />  
                                </f:facet>  
                                <f:facet name="input">  
                                    <h:selectOneMenu value="#{linea.ccId2}" converter="#{cuentacontableConverter}">  
                                        <f:selectItems value="#{configuracionCuentaContableManagedBean.cuentacontableList}"
                                                       var="cuenta"   
                                                       itemLabel="#{cuenta.ccNombrecuenta}"  
                                                       itemValue="#{cuenta}" />  
                                    </h:selectOneMenu>  
                                </f:facet>  
                            </p:cellEditor>  
                        </p:column>  

                        <p:column width="8%">  
                            <p:rowEditor />  
                        </p:column>  

                    </p:dataTable>  
                </p:tab>  


                <p:tab title="Deducciones">  
                    <p:dataTable var="tipoDeduccion" value="#{configuracionCuentaContableManagedBean.tipoDeduccionList}" id="deduccionesList" editable="true" style="width: 80%; margin: auto;" paginator="true" rows="5"  
                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
                                 rowsPerPageTemplate="5,10,15" paginatorPosition="bottom">  

                        <f:facet name="header">  
                           Tipo de Deducciones
                        </f:facet>  

                        <p:ajax event="rowEdit" listener="#{configuracionCuentaContableManagedBean.onEditTipoDeduccion}" update=":ConfigContableForm:messages" />  
                        <p:ajax event="rowEditCancel" listener="#{configuracionCuentaContableManagedBean.onCancel}" update=":ConfigContableForm:messages" />  


                        <p:column headerText="Nombre" width="60%">  
                            <h:outputText value="#{tipoDeduccion.tipodeduccionNombre}" />  
                        </p:column>  

                        <p:column headerText="Cuenta" width="32%">  
                            <p:cellEditor>  
                                <f:facet name="output">  
                                    <h:outputText value="#{tipoDeduccion.ccId2.ccNombrecuenta}" />  
                                </f:facet>  
                                <f:facet name="input">  
                                    <h:selectOneMenu value="#{tipoDeduccion.ccId2}" converter="#{cuentacontableConverter}">  
                                        <f:selectItems value="#{configuracionCuentaContableManagedBean.cuentacontableList}"
                                                       var="cuenta"   
                                                       itemLabel="#{cuenta.ccNombrecuenta}"  
                                                       itemValue="#{cuenta}" />  
                                    </h:selectOneMenu>  
                                </f:facet>  
                            </p:cellEditor>  
                        </p:column>  

                        <p:column width="8%">  
                            <p:rowEditor />  
                        </p:column>  

                    </p:dataTable>  
                </p:tab> 


                <p:tab title="Bancos">  
                    <p:dataTable var="banco" value="#{configuracionCuentaContableManagedBean.bancoList}" id="bancosList" editable="true" style="width: 80%; margin: auto;" 
                                 paginator="true" rows="5"  
                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
                                 rowsPerPageTemplate="5,10,15" 
                                 paginatorPosition="bottom">  

                        <f:facet name="header">  
                            Bancos
                        </f:facet>  

                        <p:ajax event="rowEdit" listener="#{configuracionCuentaContableManagedBean.onEditBanco}" update=":ConfigContableForm:messages" />  
                        <p:ajax event="rowEditCancel" listener="#{configuracionCuentaContableManagedBean.onCancel}" update=":ConfigContableForm:messages" />  


                        <p:column headerText="Nombre" width="60%">  
                            <h:outputText value="#{banco.bancoNombre}" />  
                        </p:column>  

                        <p:column headerText="Cuenta" width="32%">  
                            <p:cellEditor>  
                                <f:facet name="output">  
                                    <h:outputText value="#{banco.ccId2.ccNombrecuenta}" />  
                                </f:facet>  
                                <f:facet name="input">  
                                    <h:selectOneMenu value="#{banco.ccId2}" converter="#{cuentacontableConverter}">  
                                        <f:selectItems value="#{configuracionCuentaContableManagedBean.cuentacontableList}"
                                                       var="cuenta"   
                                                       itemLabel="#{cuenta.ccNombrecuenta}"  
                                                       itemValue="#{cuenta}" />  
                                    </h:selectOneMenu>  
                                </f:facet>  
                            </p:cellEditor>  
                        </p:column>  

                        <p:column width="8%">  
                            <p:rowEditor />  
                        </p:column>  

                    </p:dataTable>  
                </p:tab>  

            </p:accordionPanel>  


        </h:form>  

    </ui:define>
</ui:composition>

